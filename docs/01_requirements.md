# 要件定義書  
Personal Finance Tracker（Android）

---

## 1. 概要（Overview）

本プロジェクトは、個人の収入・支出を管理するための  
**Android向け個人財務管理アプリ**を開発することを目的とする。

銀行やカード会社の公式APIが利用しにくいという現実的な制約を前提に、  
**カード決済通知（SMS / Notification）を活用した自動記録**と  
**手動入力を組み合わせた管理方式**を採用する。

本アプリは、単なる家計簿ではなく  
「現実的な制約を考慮した設計と実装」を重視した個人開発プロジェクトである。

---

## 2. 対象ユーザー（User）

- ユーザーは1名（本人利用のみ）
- Androidスマートフォン利用者
- クレジットカード決済が中心
- 現金支出・収入は手動入力が必要

※ マルチユーザー対応は本プロジェクトの対象外とする。

---

## 3. 機能要件（Functional Requirements）

### 3.1 実績管理（Actual）

#### 3.1.1 自動支出記録
- カード決済時のSMSまたは通知を検知する
- 以下の情報を抽出・保存する
  - 金額
  - 利用日時
  - 利用店舗名（取得可能な場合）
- 自動登録データであることを判別可能とする

#### 3.1.2 手動支出記録
- ユーザーが手動で支出を入力できる
- 入力項目
  - 金額
  - 日付
  - カテゴリ
  - メモ（任意）
- 現金支出にも対応する

#### 3.1.3 手動収入記録
- 収入は手動で登録する
- 入力項目
  - 金額
  - 日付
  - メモ（任意）

---

### 3.2 予定管理（Planned）

#### 3.2.1 予定収入
- 将来発生予定の収入を登録できる
- 例：月給、定期収入、臨時収入
- 入力項目
  - 金額
  - 予定日
  - メモ（任意）

#### 3.2.2 予定支出
- 将来発生予定の支出を登録できる
- 例：家賃、サブスクリプション、保険料
- 入力項目
  - 金額
  - 予定日
  - カテゴリ
  - メモ（任意）

---

### 3.3 集計・指標表示（Metrics）

以下の指標を表示可能とする。

- 月別の総支出・総収入（実績）
- 予定収入・予定支出を含めた予測残高
- カテゴリ別支出割合
- 固定費と変動費の比率
- 前月との支出比較

これらの指標は、  
ユーザーがお金の使い方を直感的に理解できることを目的とする。

---

## 4. 非機能要件（Non-Functional Requirements）

- オフライン環境でも入力・閲覧が可能であること
- 自動記録が失敗した場合、手動で補完可能であること
- データはローカルデータベースを優先して管理する
- 将来的なバックエンド連携を考慮した構成とする
- 個人情報の外部送信は最小限に抑える

---

## 5. 対象外とする機能（Out of Scope）

本プロジェクトでは、以下の機能は実装対象外とする。

- 銀行・カード会社の公式API連携
- マルチユーザー対応
- 予算設定・超過通知機能
- AIによる自動カテゴリ分類
- Web版の提供

---

## 6. 前提・制約条件（Assumptions & Constraints）

- Androidネイティブアプリとして開発する
- 使用技術は Kotlin / Jetpack Compose を前提とする
- 個人開発であるため、実装範囲は段階的に拡張する

---

## 7. 本ドキュメントの位置づけ

本要件定義書は、  
後続のアーキテクチャ設計・ドメイン設計・実装の基礎資料として使用する。

要件変更が発生した場合は、本ドキュメントを更新し、  
設計・実装との整合性を保つものとする。